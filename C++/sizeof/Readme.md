# Readme

## 类大小的计算

有以下几点小结：

* 空类的大小为1字节
* 一个类中，虚函数本身，成员函数（包括静态和非静态）和静态数据成员都不占用类对象的存储空间
* 对于包含虚函数的类，不管由多少个虚函数，只有一个虚指针`vptr`的大小
* 普通继承，派生类继承了所有基类的函数与成员，要按照字节对齐来计算大小
* 虚函数继承，不管是单继承还是多继承，都是继承了基类的`vptr`。（这里面只有一个地址的大小，32位操作系统下为4字节，64位操作系统下为8字节）
* 虚继承，继承基类的`vptr`
* 运算结果值为类型名所指定的类型或表达式的结果的类型所占的字节数。在该过程中，并不对表达式本身求值。sizeof是操作符，在编译的时候就完成了，不会有运行时的计算结果。

> `const`是占据对象的存储空间的


> 对齐的时候要注意，为了效率，虚函数表的地址是存放在类对象最开始的那片内存中，这是为了在多重继承的情况下提高访问效率。


以下分别进行测试：

```c
sizeof(2.5 * 3);  // 8
sizeof(3 * 2.5);  // 8 编译过程中应该会直接完成求解
```

